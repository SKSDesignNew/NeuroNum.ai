/* ═══════════════════════════════════════════
   NeuroNum.ai — Profile Form Styles
   ═══════════════════════════════════════════ */

.profile-body{min-height:100vh;background:var(--bg)}
.profile-main{
  min-height:100vh;display:flex;align-items:flex-start;justify-content:center;
  padding:calc(var(--nav-h) + 32px) 24px 60px
}

.profile-card{
  width:100%;max-width:700px;
  background:var(--surface);border:1px solid var(--border);border-radius:var(--r-xl);
  padding:40px;
}

/* ── Progress Bar ── */
.progress-bar{margin-bottom:40px}
.progress-steps{display:flex;justify-content:space-between;margin-bottom:12px}
.progress-step{display:flex;align-items:center;gap:8px}
.progress-step span{
  width:32px;height:32px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:.85rem;font-weight:700;
  background:var(--bg-3);color:var(--text-3);border:2px solid var(--border);
  transition:all .3s var(--ease)
}
.progress-step.active span{background:linear-gradient(135deg,var(--cyan),var(--green));color:var(--white);border-color:transparent}
.progress-step.completed span{background:var(--green);color:var(--white);border-color:transparent}
.progress-step small{color:var(--text-3);font-size:.78rem;font-weight:500}
.progress-step.active small{color:var(--text)}
.progress-step.completed small{color:var(--green)}
.progress-track{height:4px;background:var(--bg-3);border-radius:100px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--cyan),var(--green));border-radius:100px;transition:width .4s var(--ease);width:0%}

/* ── Form Steps ── */
.form-step{border:none;padding:0;display:none}
.form-step.active{display:block}
.form-step legend{font-family:var(--font-display);font-size:1.4rem;color:var(--white);margin-bottom:4px}
.step-desc{color:var(--text-2);font-size:.9rem;margin-bottom:28px;line-height:1.6}

/* ── Form Inputs ── */
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.form-group{margin-bottom:20px}
.form-group label{display:block;color:var(--text-2);font-size:.85rem;font-weight:500;margin-bottom:6px}
.form-group input,
.form-group select{
  width:100%;padding:12px 14px;
  background:var(--bg-3);border:1.5px solid var(--border);border-radius:var(--r-sm);
  color:var(--text);font-size:.95rem;
  transition:border-color .2s var(--ease)
}
.form-group input::placeholder{color:var(--text-3)}
.form-group input:focus,
.form-group select:focus{outline:none;border-color:var(--cyan);box-shadow:0 0 0 3px rgba(6,182,212,.12)}
.form-group select{cursor:pointer;appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%236b6b80' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat:no-repeat;background-position:right 14px center;padding-right:36px}
.form-group select:disabled{opacity:.5;cursor:not-allowed}
.form-group .error-text{color:var(--red);font-size:.78rem;margin-top:4px;display:none}

/* ── School Search Dropdown ── */
.school-results{
  position:absolute;z-index:50;width:100%;max-height:240px;overflow-y:auto;
  background:var(--bg-3);border:1.5px solid var(--border);border-radius:var(--r-sm);
  margin-top:4px;display:none
}
.school-results.open{display:block}
.school-result-item{
  padding:12px 14px;cursor:pointer;border-bottom:1px solid var(--border);
  transition:background .15s var(--ease)
}
.school-result-item:last-child{border-bottom:none}
.school-result-item:hover{background:var(--bg-2)}
.school-result-item .school-name{color:var(--white);font-size:.9rem;font-weight:600}
.school-result-item .school-detail{color:var(--text-3);font-size:.78rem;margin-top:2px}
.school-search-loading{padding:12px 14px;color:var(--text-3);font-size:.85rem;text-align:center}
.selected-school{
  margin-top:8px;padding:10px 14px;
  background:rgba(0,255,200,.06);border:1px solid rgba(0,255,200,.2);border-radius:var(--r-sm);
  color:var(--neuro);font-size:.85rem;display:none
}
.selected-school.visible{display:flex;align-items:center;justify-content:space-between}
.selected-school .clear-school{cursor:pointer;color:var(--text-3);font-size:.78rem}
.selected-school .clear-school:hover{color:var(--red)}
.form-group{position:relative}
.form-group.has-error input,
.form-group.has-error select{border-color:var(--red)}
.form-group.has-error .error-text{display:block}

/* ── Subject Category Titles ── */
.subject-category-title{
  font-family:var(--font-display);font-size:1rem;font-weight:600;
  color:var(--cyan);margin:0 0 14px;padding-bottom:8px;
  border-bottom:1px solid rgba(6,182,212,.15)
}
.subject-category-title.finance-title{color:var(--green);margin-top:28px;border-bottom-color:rgba(16,185,129,.15)}

/* ── Subject Grid ── */
.subject-grid{display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:12px}

.subject-card{
  display:flex;align-items:center;gap:14px;
  padding:16px 18px;border-radius:var(--r-md);
  border:1.5px solid var(--border);background:var(--bg-3);
  cursor:pointer;transition:all .2s var(--ease);
  position:relative;overflow:hidden
}
.subject-card:hover{border-color:var(--border-l);background:var(--bg-2)}
.subject-card.has-topics{border-color:var(--cyan);background:rgba(6,182,212,.04)}
.subject-card--finance.has-topics{border-color:var(--green);background:rgba(16,185,129,.04)}

.subject-icon{
  width:40px;height:40px;flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  border-radius:10px;background:rgba(6,182,212,.1)
}
.subject-icon svg{width:22px;height:22px;stroke:var(--cyan)}
.subject-card--finance .subject-icon{background:rgba(16,185,129,.1)}
.subject-card--finance .subject-icon svg{stroke:var(--green)}

.subject-info{flex:1;min-width:0}
.subject-info h4{font-size:.92rem;color:var(--white);margin:0 0 2px;font-weight:600}
.subject-info p{font-size:.78rem;color:var(--text-3);margin:0;line-height:1.4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.subject-badge{
  flex-shrink:0;padding:3px 10px;border-radius:100px;
  font-size:.72rem;font-weight:700;
  background:var(--cyan);color:var(--bg);
  opacity:0;transform:scale(.8);transition:all .2s var(--ease)
}
.subject-badge.visible{opacity:1;transform:scale(1)}
.subject-card--finance .subject-badge{background:var(--green)}

.subject-arrow{flex-shrink:0;width:20px;height:20px;color:var(--text-3);transition:color .2s var(--ease)}
.subject-arrow svg{width:20px;height:20px}
.subject-card:hover .subject-arrow{color:var(--text)}

/* ── Topic Grid (inside modal) ── */
.topic-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:28px}
.topic-card{
  position:relative;cursor:pointer;
  padding:14px 16px;border-radius:var(--r-md);
  border:1.5px solid var(--border);background:var(--bg-3);
  transition:all .2s var(--ease);display:flex;align-items:flex-start;gap:12px
}
.topic-card:hover{border-color:var(--border-l);background:var(--bg-2)}
.topic-card.selected{border-color:var(--cyan);background:rgba(6,182,212,.06)}
.topic-card.selected .topic-check{background:var(--cyan);border-color:var(--cyan)}
.topic-card.selected .topic-check svg{opacity:1}
.topic-check{
  width:22px;height:22px;border-radius:6px;flex-shrink:0;
  border:2px solid var(--border-l);display:flex;align-items:center;justify-content:center;
  transition:all .2s var(--ease);margin-top:1px
}
.topic-check svg{width:14px;height:14px;stroke:var(--white);stroke-width:3;fill:none;opacity:0;transition:opacity .2s var(--ease)}
.topic-info h4{font-size:.88rem;color:var(--white);margin-bottom:2px}
.topic-info p{font-size:.75rem;color:var(--text-3);line-height:1.4}

/* finance topic cards green accent */
.topic-card.finance-topic.selected{border-color:var(--green);background:rgba(16,185,129,.06)}
.topic-card.finance-topic.selected .topic-check{background:var(--green);border-color:var(--green)}

/* ── Topic Selection Modal ── */
.topic-modal-overlay{
  position:fixed;inset:0;z-index:1000;
  background:rgba(0,0,0,.65);backdrop-filter:blur(6px);
  display:flex;align-items:center;justify-content:center;
  padding:24px;opacity:0;pointer-events:none;
  transition:opacity .25s var(--ease)
}
.topic-modal-overlay.open{opacity:1;pointer-events:auto}

.topic-modal{
  width:100%;max-width:680px;max-height:85vh;
  background:var(--surface);border:1px solid var(--border);border-radius:var(--r-xl);
  display:flex;flex-direction:column;
  transform:translateY(20px) scale(.97);transition:transform .25s var(--ease)
}
.topic-modal-overlay.open .topic-modal{transform:translateY(0) scale(1)}

.topic-modal-header{
  display:flex;align-items:flex-start;justify-content:space-between;
  padding:28px 28px 0;gap:16px
}
.topic-modal-title{font-family:var(--font-display);font-size:1.3rem;color:var(--white);margin:0 0 4px}
.topic-modal-desc{font-size:.85rem;color:var(--text-2);margin:0;line-height:1.5}
.topic-modal-close{
  width:36px;height:36px;flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  font-size:1.5rem;color:var(--text-3);
  background:var(--bg-3);border:1px solid var(--border);border-radius:8px;
  cursor:pointer;transition:all .15s var(--ease)
}
.topic-modal-close:hover{background:var(--bg-2);color:var(--white);border-color:var(--border-l)}

.topic-modal-body{
  flex:1;overflow-y:auto;padding:20px 28px;
  display:grid;grid-template-columns:1fr 1fr;gap:10px
}

.topic-modal-footer{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 28px;border-top:1px solid var(--border)
}
.topic-modal-count{font-size:.85rem;color:var(--text-2);font-weight:500}

/* ── Form Actions ── */
.form-actions{display:flex;justify-content:space-between;align-items:center;padding-top:8px}

/* ── Spinner ── */
.btn-spinner{width:18px;height:18px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* ── Responsive ── */
@media(max-width:640px){
  .form-row{grid-template-columns:1fr}
  .topic-modal-body{grid-template-columns:1fr}
  .profile-card{padding:28px 20px}
  .progress-step small{display:none}
  .topic-modal{max-height:92vh}
  .topic-modal-header{padding:20px 20px 0}
  .topic-modal-body{padding:16px 20px}
  .topic-modal-footer{padding:14px 20px}
}
